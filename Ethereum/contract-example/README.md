# Solidity, Smart Contrat

1. EVM
- 계정
외부 계정: 공개키, 비밀키 쌍으로 동작, 공개키에 의해 정해짐
컨트랙트 계정: 생성되는 시점에 정해짐. (생성한 사용자의 주소, 주소로부터 보내진 트랜잭션의 수 - '논스' 로부터 기반)
모든 계정은 256비트의 문자열들이 서로 키-값으로 영구히 매핑된 스토리지 가지고 있음.

- 트랜잭션
대상 계정이 코드 포함하고 있으면 코드는 실행되고 페이로드(바이너리 데아터)는 입력 데이터로 제공 
대상 계정이 설정되지 않은 경우 트랜잭션은 새 컨트랙트 생성, 논스의 의해 주소 결정.

각 트랜잭션 생성 데이터 페이로드는 EVM 바이트 코드로 실행되기 위해 사용.
컨트랙트를 만들기 위해 실제 코드를 보내는 대신, 실행될 때의 코드를 리턴하는 코드를 보내야 함.
* 컨트랙트가 생성되는 동안, 컨트랙트의 코드는 비어있음. 이 때문에 생성자가 실행을 끝낼ㄷ 때까지 트랜잭션 다시 호출하면 안됨.

- 가스
가스 가격 * 가스 양 지불

- 스토리지, 메모리, 스택
스토리지: 데이터 영역: 함수호출과 트랜잭션 사이에서 영구적 존재
메모리: 메시지 콜에 대해 초기화된 인스턴스, 메모리는 선형이며 바이트 레벨로 다뤄짐. 변경되지 않은 메모리 워드 영역에 액세스 시 
메모리는 256 비트 워드 영역으로 확장, 가스 비용 지불
스택: 모든 연산이 스택이라는 영역에서 처

- 메시지 콜
컨트랙트가 다른 컨트랙트 호출하거나 컨트랙트 아닌 계정으로 Ether 송금할 수 있음.
송신자, 수신자, 데이터 페이로드, Ether, 가스와 리턴 값을 가지고 있어 트랜잭션과 유사

